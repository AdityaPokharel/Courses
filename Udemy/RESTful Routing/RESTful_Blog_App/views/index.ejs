<% include ./partials/header.ejs %>

<div class="ui main text container">
    <div class="ui huge header">RESTful Blog App</div>
    <div class="ui top attached segment">
        <div class="ui divided items">
            <% blogs.forEach((blog) => { %>
                <div class="item">
                    <div class="image">
                        <img class="ui rounded image" src="<%= blog.image %>" width="400px"> <br>
                    </div>
                    <div class="content">
                        <% let titleDots = blog.title.length > 100? " ..." : ""; %>
                        <% let bodyDots = blog.body.length > 100? " ..." : ""; %>
                        <a class="header" href="/blogs/<%=blog._id%>"> <%=blog.title + titleDots%> </a>
                        <div class="meta"><span><%= blog.created.toDateString() %></span></div>
                        <div class="description"><p><%- blog.body.substring(0, 100) + bodyDots%></p></div>
                        <a class="ui floated basic blue button" href="/blogs/<%=blog._id%>">
                            Read More
                            <i id="readMoreIcon" class="chevron right icon buttonIcon"></i>
                        </a>
                    </div>
                    
                   
                </div>
            <% }) %>
        </div>
    </div>
</div>

<% include ./partials/footer.ejs %>